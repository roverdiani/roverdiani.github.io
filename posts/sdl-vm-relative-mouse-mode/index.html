<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>SDL2, VMware, Linux and Relative Mouse Mode - Roverdi's Website</title><meta name=Description content="Rantings about SDL, virtual machines and Linux."><meta property="og:url" content="https://roverdiani.github.io/posts/sdl-vm-relative-mouse-mode/">
<meta property="og:site_name" content="Roverdi's Website"><meta property="og:title" content="SDL2, VMware, Linux and Relative Mouse Mode"><meta property="og:description" content="Rantings about SDL, virtual machines and Linux."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-12T15:00:00-03:00"><meta property="article:modified_time" content="2023-07-12T15:00:00-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SDL2, VMware, Linux and Relative Mouse Mode"><meta name=twitter:description content="Rantings about SDL, virtual machines and Linux."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://roverdiani.github.io/posts/sdl-vm-relative-mouse-mode/><link rel=prev href=https://roverdiani.github.io/posts/hello-world/><link rel=next href=https://roverdiani.github.io/posts/optiplex-380-win-xp/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"SDL2, VMware, Linux and Relative Mouse Mode","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/roverdiani.github.io\/posts\/sdl-vm-relative-mouse-mode\/"},"genre":"posts","wordcount":1051,"url":"https:\/\/roverdiani.github.io\/posts\/sdl-vm-relative-mouse-mode\/","datePublished":"2023-07-12T15:00:00-03:00","dateModified":"2023-07-12T15:00:00-03:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Roverdi"},"description":"Rantings about SDL, virtual machines and Linux."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Roverdi's Website">Roverdi's Website</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>HOME </a><a class=menu-item href=/about>ABOUT </a><a class=menu-item href=/contact>CONTACT </a><a class=menu-item href=/posts/index.xml>RSS </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Roverdi's Website">Roverdi's Website</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/ title>HOME</a><a class=menu-item href=/about title>ABOUT</a><a class=menu-item href=/contact title>CONTACT</a><a class=menu-item href=/posts/index.xml title>RSS</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><article class="page single"><h1 class="single-title animate__animated animate__flipInX">SDL2, VMware, Linux and Relative Mouse Mode</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Roverdi</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=12/07/2023>12/07/2023</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1051 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class=content id=content><p>So, one of my pet projects is a game engine based on a 3D Software Renderer (that I will post about some other day). One night, while I was working on it implementing an FPS camera, I started getting strange results when moving the mouse.</p><p>My development setup for this kind of stuff consisted on a VM running Fedora XFCE Spin, where I would code using CLion, build and execute the program. All was working fine until I got to the mouse related code.</p><p>For the approach I was taking, we needed to set the mouse to the Relative Mouse mode, by using the SDL_SetRelativeMouseMode() function. According to the <a href=https://wiki.libsdl.org/SDL2/SDL_SetRelativeMouseMode target=_blank rel="noopener noreffer">SDL Wiki</a>, it works like this:</p><blockquote><p>While the mouse is in relative mode, the cursor is hidden, the mouse position is constrained to the window, and <strong>SDL will report continuous relative mouse motion even if the mouse is at the edge of the window</strong>.</p></blockquote><p>When used together with the SDL_GetRelativeMouseState() function, I should have the mouse deltas since the last time the input was read (once per frame). With those values, I could rotate my camera accordingly.</p><p>Ok, so it seems that this is exactly what I needed: the mouse should not exit the window and it will continue to report motion even when at the edge of it. Let&rsquo;s see how I implemented that on the code.</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>init_display</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Window creation code
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>SDL_SetRelativeMouseMode</span><span class=p>(</span><span class=n>SDL_TRUE</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Log the error and exit the program
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>process_input</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>SDL_PumpEvents</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Keyboard state reading code
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=kt>int32_t</span> <span class=n>x_offset</span><span class=p>,</span> <span class=n>y_offset</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>SDL_GetRelativeMouseState</span><span class=p>(</span><span class=o>&amp;</span><span class=n>x_offset</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>y_offset</span><span class=p>);</span> <span class=c1>// Ignoring the button state for now
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Do stuff with the relative mouse motion values set by the function
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div></div><p>But then I got into troubles. When running this code for the first time, with a little touch on the mouse, the camera went crazy. It seemed to me that the sensitivity of the mouse motion was too high; I then proceeded to multiply those two variables by a scaling factor in an attempt to correct that - it didn&rsquo;t solve the issue, but made the movement slower, which allowed me to discover another problem: when the mouse cursor seemed to reach the border of the window, the movement stopped completely. Well, there was something clearly wrong.</p><p>I was not sure if the camera rotation code was correct, so I hacked a simple test using keyboard input and it worked flawlessly. Ok, then I was sure that the values I was getting from the mouse state were wrong somehow. To verify that, I put a simple debug printf on the process_input() function:</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>process_input</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=kt>int32_t</span> <span class=n>x_offset</span><span class=p>,</span> <span class=n>y_offset</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>SDL_GetRelativeMouseState</span><span class=p>(</span><span class=o>&amp;</span><span class=n>x_offset</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>y_offset</span><span class=p>);</span> <span class=c1>// Ignoring the button state for now
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>printf</span><span class=p>(</span><span class=s>&#34;Mouse motion: X: %d Y: %d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>x_offset</span><span class=p>,</span> <span class=n>y_offset</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div></div><p>Which returned me values such as:</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>34</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>142</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>34</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>214</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>142</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>34</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>214</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>71</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>34</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>71</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>72</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=mi>0</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>0</span></span></span></code></pre></div></div><p>Given that the camera_rotate() function that I was using expect values in degrees, those values were really greater than what it should be for it to work properly. Moreover, those <em>X:0 Y:0</em> lines where printed when the mouse was on the edge of the screen and I was still moving it.</p><p>With a quick search on Google, I managed to <a href=https://github.com/libsdl-org/SDL/issues/1116 target=_blank rel="noopener noreffer">find an issue on the SDL GitHub</a> that seemed related to the problems I was having. There was an statement from Sam Lantinga (the SDL creator) on it, which said:</p><blockquote><p>You also can&rsquo;t reliably test relative mode in a VM, which is one of the reasons I haven&rsquo;t gotten to it yet. :)</p></blockquote><p>Hm, so could the problem be the virtual machine? I didn&rsquo;t have any Linux box on hand to try the code, so I ended up porting the source and built it on the Windows host. After solving some issues related to the porting process, I ran it. And it worked perfectly, no issues whatsoever. Here is the output of that printf() debug line:</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>3</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>3</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>3</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>3</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>2</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=n>Mouse</span> <span class=nl>motion</span><span class=p>:</span> <span class=nl>X</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span> <span class=nl>Y</span><span class=p>:</span> <span class=mi>2</span></span></span></code></pre></div></div><p>Notice how smaller the values are. It works just fine with the camera_rotate() function that I made, and the only times I got the <em>X:0 Y:0</em> results were when the mouse was completely still.</p><p>Some days later, having some time away from work, I built a Linux box with some pretty old parts I had laying around, and installed the same version of Fedora and the tools I was using, and built the source code. Just like the Windows machine, absolutely no errors; this made me pretty confident that the problem was indeed with the virtual machine.</p><p>On that GitHub issue that I talked about, there was a workaround that seemed to work for someone, but I had no luck on getting it to work. <a href=https://stackoverflow.com/questions/25576438/sdl-getrelativemousestate-strange-behaviour target=_blank rel="noopener noreffer">It consisted of setting an SDL Hint</a>, like this:</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>init_display</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Window creation code
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=n>SDL_SetHintWithPriority</span><span class=p>(</span><span class=n>SDL_HINT_MOUSE_RELATIVE_MODE_WARP</span><span class=p>,</span> <span class=s>&#34;1&#34;</span><span class=p>,</span> <span class=n>SDL_HINT_OVERRIDE</span><span class=p>);</span> <span class=c1>// the workaround
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>SDL_SetRelativeMouseMode</span><span class=p>(</span><span class=n>SDL_TRUE</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Log the error and exit the program
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div></div><p>When I tried it, it didn&rsquo;t change the behavior of the program at all. For the time, I just gave up on getting this to work on the VM, and moved the development to the Windows host. Maybe someday I will try to fix this again, but, given that it works on real hardware running Linux, I&rsquo;m not that concerned.</p><p>If anyone has any suggestions to this problem, I would love to know.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 12/07/2023</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/hello-world/ class=prev rel=prev title="Hello World!"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Hello World!</a>
<a href=/posts/optiplex-380-win-xp/ class=next rel=next title="Windows XP on a Dell Optiplex 380">Windows XP on a Dell Optiplex 380<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js></script><script>window.config={comment:{}}</script><script src=/js/theme.min.js></script></body></html>