<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>WoW Arduino Fisher - Roverdi's Website</title><meta name=Description content="A totally legit automatic fisher for lazy people."><meta property="og:url" content="https://roverdiani.github.io/posts/wow-arduino-fisher/">
<meta property="og:site_name" content="Roverdi's Website"><meta property="og:title" content="WoW Arduino Fisher"><meta property="og:description" content="A totally legit automatic fisher for lazy people."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-25T10:00:00-03:00"><meta property="article:modified_time" content="2023-10-25T10:00:00-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="WoW Arduino Fisher"><meta name=twitter:description content="A totally legit automatic fisher for lazy people."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://roverdiani.github.io/posts/wow-arduino-fisher/><link rel=prev href=https://roverdiani.github.io/posts/optiplex-380-win-xp/><link rel=next href=https://roverdiani.github.io/posts/frontend-dev-first-impressions/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"WoW Arduino Fisher","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/roverdiani.github.io\/posts\/wow-arduino-fisher\/"},"genre":"posts","wordcount":892,"url":"https:\/\/roverdiani.github.io\/posts\/wow-arduino-fisher\/","datePublished":"2023-10-25T10:00:00-03:00","dateModified":"2023-10-25T10:00:00-03:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Roverdi"},"description":"A totally legit automatic fisher for lazy people."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Roverdi's Website">Roverdi's Website</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>HOME </a><a class=menu-item href=/about>ABOUT </a><a class=menu-item href=/contact>CONTACT </a><a class=menu-item href=/posts/index.xml>RSS </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Roverdi's Website">Roverdi's Website</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/ title>HOME</a><a class=menu-item href=/about title>ABOUT</a><a class=menu-item href=/contact title>CONTACT</a><a class=menu-item href=/posts/index.xml title>RSS</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><article class="page single"><h1 class="single-title animate__animated animate__flipInX">WoW Arduino Fisher</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Roverdi</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=25/10/2023>25/10/2023</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;892 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class=content id=content><p><em>So&mldr; I made a thing.</em></p><figure><img src=/img/wowfisher.png></figure><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden=true></i>Disclaimer<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><em>This project is intended only as a learning exercise. Don&rsquo;t use it to take advantage in the game, and don&rsquo;t try it on Blizz&rsquo;s live servers. Automation of gameplay is against the rules, and you could lose your account. Try it on a private server if you wish to see it working.</em></div></div></div><p>Having said that, let me start by telling you the motivation behind this idea. At some point in my life as a WoW player (almost 12 years now), I began to collect achievements.</p><p>For those that doesn&rsquo;t know WoW, your characters can learn up to five professions - 2 main and 3 secondary. Fishing is one of the secondary professions (Cooking and Archaeology being the other two available). <em>By fishing you can collect some reagents, consumables, crafting materials, collectibles and more; you can also get some achievements.</em></p><p>One of these achievements, <a href="https://www.wowhead.com/achievement=1836/old-crafty" target=_blank rel="noopener noreffer">Old Crafty</a>, asks you to catch a rare fish in Orgrimmar (one of the main cities in the game). Easy, right?</p><p>Well, I spent quite some time trying to fish it up. More precisely, in the end it took me <em>almost 15,000 casts</em> to catch it. Let me say that it was extremely boring, as each cast can take up to about 22 seconds.</p><p>Okay, as a little exercise, there must be a way to automatize this while reducing the chances to being caught. As a friend recently taught me, <strong>you can officially fish in WoW using two keybinds</strong> nowadays: one for casting the line and another for grabbing the fish.</p><p>Some days ago I was organizing some stuff around the house and found a box full of Arduinos, one of them being an <a href=https://docs.arduino.cc/hardware/leonardo target=_blank rel="noopener noreffer">Arduino Leonardo</a>. But what makes it useful for this project? Well, it can appear to a connected computer as a mouse and keyboard, so it can send keystrokes to the computer telling the game what to do.</p><p>That leaves us with one little detail: <em>how do we know if the fish is hooked so the catch keystroke can be sent?</em> I didn&rsquo;t want to use software for reading the screen or memory, as this could easily be caught by the anti-cheat system in the game. So, without looking at the screen, which other ways can the game tell us that we should catch the fish? By the sound the game makes when fish bite the bait.</p><p>For this project, I didn&rsquo;t put a lot of effort on make it rock solid, so there is some room for improvement. If I would make a better version of this, <strong>I would use an amplifier module</strong> (an LM386 audio amplifier or <a href=https://www.adafruit.com/product/1552 target=_blank rel="noopener noreffer">something like this</a>), to amplify the signal that comes from the sound card before it enters the Arduino.</p><p>As I didn&rsquo;t use an amplifier, the circuit is extremely simple. <strong>Just plug the output of the sound card on the Arduino</strong>. Tie the ground signal of the sound card and the ground signal of the Arduino together, and feed the signal to one of the analog inputs (I chose A1). The circuit is as follow:</p><figure><img src=/img/arduinofisher.png><figcaption><h4>The sound card output is represented as the speakerbox.</h4></figcaption></figure><p>Here is the source code for the basic version of the software. I will leave the <a href=https://github.com/roverdiani/wowfisher target=_blank rel="noopener noreffer">full source code on my GitHub</a>, along some tricks that I implemented to make the program behavior a little more random.</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-c++"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title="Copy to clipboard"><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Keyboard.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define FISHING_TIMEOUT 25000
</span></span></span><span class=line><span class=cl><span class=cp>#define SOUND_DETECT_THRESHOLD 50
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span> <span class=n>FISHING_KEY</span> <span class=o>=</span> <span class=sc>&#39;1&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span> <span class=n>CATCH_KEY</span> <span class=o>=</span> <span class=sc>&#39;f&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Variable to keep track if we are fishing or not
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>bool</span> <span class=n>isFishing</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Throw the fishing line by issuing the fishing key keystroke
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>fish</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Fishing.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Keyboard</span><span class=p>.</span><span class=n>write</span><span class=p>(</span><span class=n>FISHING_KEY</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>isFishing</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Catch the fish by issuing the catch key keystroke
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>catch_fish</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Ignore this if we are not currently fishing.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// This exists so that it doesnt issue multiple keystrokes
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// when already catching a fish.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>isFishing</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;CATCH: called when not fishing. Ignoring.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Wait sometime before catching the fish.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;CATCH: delay 1500ms before catching.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>1500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Keyboard</span><span class=p>.</span><span class=n>write</span><span class=p>(</span><span class=n>CATCH_KEY</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>isFishing</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Init the keyboard and serial libraries.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Keyboard</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Fisher v0.1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>soundDetect</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>fish</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>fishing_start_time</span> <span class=o>=</span> <span class=n>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Keep listening for the sound the game makes when a fish is hooked.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// If enough time has elapsed, maybe we missed some fish, so it starts again.
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=n>millis</span><span class=p>()</span> <span class=o>&gt;</span> <span class=p>(</span><span class=n>fishing_start_time</span> <span class=o>+</span> <span class=n>FISHING_TIMEOUT</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;LOOP: failed to detect catch sound. Starting again.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>fish</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=n>fishing_start_time</span> <span class=o>=</span> <span class=n>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>soundDetect</span> <span class=o>=</span> <span class=n>analogRead</span><span class=p>(</span><span class=n>A1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>delay</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=n>soundDetect</span> <span class=o>&lt;</span> <span class=n>SOUND_DETECT_THRESHOLD</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// We caught some fish! Yay!
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Fish detected.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>catch_fish</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Wait a little before throwing the line again.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;LOOP: wait 2000ms before fishing again.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>2000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>Keep in mind that <strong>this is not a perfect solution</strong>. As it relies on sound for taking actions, you have to <strong>fish in places that are quiet</strong>, as nearby noises can make it interpret as if a fish was caught.</p><p>You also need to <em>keep the WoW window focused</em> for the keystrokes to work. You may need to try different sound levels and adjust the code to compensate for variations of sound cards.</p><p>And remember: <strong>I do not take responsibility for the usage of this project.</strong></p><p>Now, let&rsquo;s try to get the <a href="https://www.wowhead.com/achievement=1837/old-ironjaw" target=_blank rel="noopener noreffer">Old Ironjaw</a> (without cheating!) :)</p><figure><img src=/img/oldironjaw.png></figure></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 25/10/2023</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/optiplex-380-win-xp/ class=prev rel=prev title="Windows XP on a Dell Optiplex 380"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Windows XP on a Dell Optiplex 380</a>
<a href=/posts/frontend-dev-first-impressions/ class=next rel=next title="First Impressions as a Frontend Developer">First Impressions as a Frontend Developer<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js></script><script>window.config={comment:{}}</script><script src=/js/theme.min.js></script></body></html>